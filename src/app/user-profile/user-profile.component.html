<app-nav-bar></app-nav-bar>
<div class="profile-page" >
  <h1>Profile Information</h1>
  <div class="profile-info">
    <p><strong>Username: </strong>{{ userData.Username }}</p>
    <p><strong>Email: </strong>{{ userData.Email }}</p>
    <p><strong>Birthday: </strong>{{ userData.Birthday | date:'yyyy-MM-dd' }}</p>
  </div>

  <br>
  <div class="edit-form">
    <h3><strong>Here you can edit your Profile Information:</strong> </h3>
    <form>
      <mat-form-field class="form-field">
        <label for="username">Username:</label>
        <input
          matInput
          [(ngModel)]="userData.Username"
          placeholder="Username"
          type="text"
          id="username"
          name="Username"
          required
        >
      </mat-form-field>
      <mat-form-field class="form-field">
        <label for="password">Password:</label>
        <input
          matInput
          [(ngModel)]="userData.Password"
          type="password"
          placeholder="Password"
          id="password"
          name="Password"
          required
        >
      </mat-form-field>
      <mat-form-field class="form-field">
        <label for="email">Email:</label>
        <input
          matInput
          [(ngModel)]="userData.Email"
          type="email"
          placeholder="Email"
          id="email"
          name="Email"
          required
        >
      </mat-form-field>
      <mat-form-field class="form-field">
        <label for="birthday">Birthday:</label>
        <input
          matInput
          
          type="date"
          placeholder="Birthday"
          id="birthday"
          name="Birthday"
        >
      </mat-form-field>
    </form>
        
    <button mat-raised-button (click)="updateUserProfile()" color="primary" style="margin-bottom: 30px; background-color: #0057AD;">Save Changes</button>      
    <br>
    <button mat-raised-button (click)="deleteUser()" color="warn" style="background-color: #A81521;">Delete Profile</button>
  </div>

  <br>
  <div class="favorite-movies">
    <h3>Favorite Movies:</h3>
    <div class="movie-card-container">
    <mat-card *ngFor="let favoriteMovie of getFavorites()" class="movie-card">
      <mat-card-header>
        <mat-card-title>{{ favoriteMovie.Title }}</mat-card-title>
        <mat-card-subtitle>Directed by: {{ favoriteMovie.Director.Name }}</mat-card-subtitle>
      </mat-card-header>
      <img [src]="favoriteMovie.ImagePath" [alt]="favoriteMovie.Title" style="width: 100%; height: 100%;" />
      <mat-card-actions>
        <button mat-button (click)="openGenreDialog(favoriteMovie.Genre)" color="primary">
          Genre
        </button>
  
        <button mat-button (click)="openDirectorDialog(favoriteMovie.Director)" color="primary">
          Director
        </button>
  
        <button mat-button (click)="openSynopsisDialog(favoriteMovie.Description)" color="primary">
          Synopsis
        </button>  
        
        <button mat-icon-button (click)="toggleFavorite(favoriteMovie._id)">
          <mat-icon>{{ isFavorite(favoriteMovie._id) ? 'favorite' : 'favorite_border' }}</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
    <div>
  </div>
</div>




